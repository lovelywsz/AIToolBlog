import{_ as x,i as S,c as C,n as P,P as T,o as V}from"./index-G82DOdH0.js";import{u as $}from"./useNavToLogin-BxY3k4hT.js";import{a as D}from"./element-plus-yQA3I_5B.js";import{ah as i,m as I,p as M,q as d,U as e,O as a,u as n,F as N,S as c,T as R,ax as z,ay as E}from"./vue-ChzjY1xf.js";const F=s=>(z("data-v-5beca54a"),s=s(),E(),s),L={class:"title-container"},A=F(()=>d("h1",null,"My Blogs",-1)),q={__name:"MyBlogsView",setup(s){const u=S();C("my blog"),$();const{list:_,total:m,currentPage:g,pageSizeRef:f,layout:h,getBlogListFn:b}=P({my:!0}),y=r=>{u.push(`/blog/${r.id}/edit`)},w=async r=>{if(await D.confirm("确认删除该blog吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}))try{await V(r.id),b()}catch(o){console.error(o)}};return(r,B)=>{const o=i("el-button"),p=i("router-link"),t=i("el-table-column"),k=i("el-table");return I(),M(N,null,[d("div",L,[A,e(p,{to:"/create"},{default:a(()=>[e(o,{type:"primary"},{default:a(()=>[c("create blog")]),_:1})]),_:1})]),e(k,{data:n(_),style:{width:"100%"}},{default:a(()=>[e(t,{prop:"title",label:"title",width:"180"},{default:a(({row:l})=>[e(p,{to:`/blog/${l.id}`},{default:a(()=>[c(R(l.title),1)]),_:2},1032,["to"])]),_:1}),e(t,{prop:"category",label:"category",width:"180"}),e(t,{prop:"author",label:"author",width:"180"}),e(t,{prop:"likes",label:"likes",width:"180"}),e(t,{prop:"favorites",label:"favorites",width:"180"}),e(t,{prop:"comments",label:"comments",width:"180"}),e(t,{prop:"createdAt",label:"createdAt",width:"180"}),e(t,{label:"operation",width:"180"},{default:a(({row:l})=>[e(o,{type:"primary",onClick:v=>y(l)},{default:a(()=>[c("edit")]),_:2},1032,["onClick"]),e(o,{type:"danger",onClick:v=>w(l)},{default:a(()=>[c("delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(T,{total:n(m),currentPage:n(g),pageSizeRef:n(f),layout:n(h)},null,8,["total","currentPage","pageSizeRef","layout"])],64)}}},H=x(q,[["__scopeId","data-v-5beca54a"]]);export{H as default};
